(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[675],{1216:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ws-test",function(){return t(2243)}])},2243:function(e,n,t){"use strict";t.r(n);var c=t(5893),o=t(7294),s=t(9367);let i=(0,s.ZP)({path:"/chat.socket",autoConnect:!1});n.default=function(){let[e,n]=(0,o.useState)(i.connected),[t,s]=(0,o.useState)(null),[l,u]=(0,o.useState)([]);(0,o.useEffect)(()=>(i.on("connect",()=>n(!0)),i.on("disconnect",()=>n(!1)),i.on("pong",()=>s(new Date().toISOString())),i.on("update response",e=>{console.log(e),u(e)}),i.connect(),()=>{i.off("connect"),i.off("disconnect"),i.off("pong")}),[]);let a=()=>{i.emit("ping","HELLO")};return(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{children:["Connected: ",""+e]}),(0,c.jsxs)("p",{children:["Last pong: ",t||"-"]}),(0,c.jsx)("button",{className:"block p-2 bg-slate-700 rounded-md m-2 text-lime-600",onClick:a,children:"Send ping"}),(0,c.jsx)("button",{className:"block p-2 bg-slate-700 rounded-md m-2 text-lime-600",onClick:()=>i.emit("update request"),children:"Update messages"}),(0,c.jsx)("div",{className:"bg-black p-6",children:l.map(e=>(0,c.jsx)("div",{style:{color:"white",margin:"1vh"},children:e.content}))})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1216)}),_N_E=e.O()}]);