(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(9694)}])},9694:function(e,t,n){"use strict";n.r(t);var r=n(5893),l=n(7294),o=n(1163);t.default=function(){let e=(0,o.useRouter)(),[t,n]=l.useState(""),i=l.useRef(null),a=l.useRef(null),s=async t=>{if(t.preventDefault(),!function(){let e=i.current.value,t=a.current.value;return e?!!t||(n("Password not provided"),!1):(n("Email not provided"),!1)}())return;let r={email:t.currentTarget.email.value,password:t.currentTarget.password.value};try{let t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok&&void 0===n("Login failed"))return;let l=await t.json();if(!l.token&&void 0===alert("Serverul nu nea trimis nici un token"))return;return localStorage.setItem("token",l.token),e.push("/")}catch(e){console.error(e),n("Invalid email or password")}},d=()=>{e.push("/register")};return(0,r.jsx)("div",{className:"mt-28 grid place-items-center",children:(0,r.jsx)("div",{className:"h-120 w-80 rounded-br-3xl rounded-tl-3xl border-2 bg-neutral-800 px-2.5 leading-9 ",children:(0,r.jsxs)("form",{onSubmit:s,encType:"application/x-www-form-urlencoded",children:[(0,r.jsx)("h1",{className:"mt-7 text-center text-2xl font-semibold text-white underline decoration-Verde",children:"Login"}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{className:"text-white",htmlFor:"email",children:""}),(0,r.jsx)("input",{placeholder:"Email",id:"email",className:"mb-5 mt-5 w-full rounded-lg text-center",type:"email",name:"email",ref:i}),(0,r.jsx)("label",{className:"text-white",htmlFor:"password",children:""}),(0,r.jsx)("input",{placeholder:"Password",id:"password",className:"mb-5 mt-2 w-full rounded-lg text-center",type:"password",name:"password",ref:a}),t&&(0,r.jsx)("p",{className:"text-red-600",children:t}),(0,r.jsx)("button",{className:"mx-auto mb-4 w-full rounded border bg-Verde px-3.5 font-semibold text-Black-Blue",type:"submit",id:"loginBtn",children:"LOGIN"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,r.jsx)("button",{onClick:()=>window.location.href=window.getGoogleRedirectLink("/api/login/google"),type:"button",className:"rounded-md border bg-slate-100 text-center ",id:"loginGoogleBtn",children:"Google"}),(0,r.jsx)("button",{type:"button",className:"rounded-md border bg-slate-100 text-center",id:"loginFacebookBtn",children:"Facebook"})]}),(0,r.jsx)("button",{type:"button",onClick:d,className:" mx-auto my-auto mb-2.5 block text-white ",id:"redirectRegisterBtn",children:"Register"})]})})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);